(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,function(e,a,t){e.exports=t.p+"static/media/file.19ff04d1.png"},function(e,a,t){e.exports=t.p+"static/media/folder.4506f81e.png"},function(e,a,t){e.exports=t.p+"static/media/cd.ec7846ff.gif"},function(e,a,t){e.exports=t(17)},,,,,function(e,a,t){},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(5),c=t.n(r),i=(t(14),t(2)),s=t(1),o=(t(15),t(3)),m=t.n(o);function u(e){var a=[];for(var t in e)"pop"!==t&&"edm"!==t&&"rap"!==t&&a.push([t,e[t]]);return a.sort((function(e,a){return a[1]-e[1]})),a}function d(e,a){e.hasOwnProperty(a)?e[a]++:e[a]=1}function E(e,a){for(var t=0,n=0,l=[],r=e.length-1;t<a&&t<r;){if(e[n]){var c=e[n][0];"pop"!==c&&"edm"!==c&&"rap"!==c?(l.push(c),t++):r-=1}n++}return l}var p=function(e){var a=new m.a,t=e.allGenres,r=Object(n.useState)(-1),c=Object(s.a)(r,2),o=c[0],p=c[1],f=Object(n.useState)({loading:!0,error:!1,genres:[],genreObj:{}}),v=Object(s.a)(f,2),w=v[0],g=v[1];Object(n.useEffect)((function(){g(Object(i.a)(Object(i.a)({},w),{},{loading:!0})),y(0),b()}),[e.pl]);var b=function(){a.getPlaylistTracks(e.pl.id).then((function(a){var t=a.items.map((function(e){return null!==e.track?e.track.artists[0].id:null}));t=t.filter((function(e){return null!==e})),N({},t,0,t.length,e.pl.name)})).catch((function(e){g(Object(i.a)(Object(i.a)({},w),{},{error:!0}))}))},N=function t(n,l,r,c,s){r<c?a.getArtists(l.slice(r,r+50)).then((function(a){a.artists.forEach((function(a){a.genres.forEach((function(a){d(n,a),d(e.allGenres,a)}))})),e.setGenres(e.allGenres),t(n,l,r+50,c,s)})).catch((function(e){g(Object(i.a)(Object(i.a)({},w),{},{error:!0}))})):h(n)},h=function(a){var n=[],l={};n=Object.keys(a).length>0?E(l=u(a),3):["N/A"],g({loading:!1,genres:n,genreObj:l,error:!1}),e.setGenres(t)},y=function e(a){p(a+1),a<110&&setTimeout((function(){e(a+1)}),15)};return w.loading||o<110?l.a.createElement("div",null,l.a.createElement("p",null,"Loading... (",Math.min(o,100),"%)"),l.a.createElement("div",{className:"loading-bar"},l.a.createElement("div",{className:"loading-bar-inner"})),l.a.createElement("div",{className:"button-wrapper"},l.a.createElement("div",{className:"button",onClick:function(){return e.setFeatured(-1)}},"Cancel"))):l.a.createElement("div",{className:"playlist"},l.a.createElement("img",{src:function(){if(e.pl.images)return e.pl.images[0].url}()}),l.a.createElement("a",{href:e.pl.external_urls.spotify},l.a.createElement("h3",null,e.pl.name)),w.genres.map((function(e,a){return l.a.createElement("p",{className:"genres",key:a},e)})))},f=t(6),v=t.n(f),w=t(7),g=t.n(w);var b=function(e){var a=Object(n.useState)({playlists:[{}],genres:{}}),t=Object(s.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!0),o=Object(s.a)(i,2),d=(o[0],o[1]),E=Object(n.useState)(-1),f=Object(s.a)(E,2),w=f[0],b=f[1],N=new m.a;return N.setAccessToken(e.token),Object(n.useEffect)((function(){N.getUserPlaylists(e.id,{limit:50}).then((function(e){console.log(e.items),c({playlists:e.items,genres:r.genres})}))}),[c]),Object(n.useEffect)((function(){d(!1)}),[r.playlists]),l.a.createElement("div",{className:"genres-wrapper"},l.a.createElement("div",{className:"main-window",id:"playlists"},l.a.createElement("div",{className:"window-title-bar"},l.a.createElement("p",null,"File Manager"),l.a.createElement("p",{className:"close",onClick:e.logOut},"X")),l.a.createElement("div",{className:"inner-window"},l.a.createElement("div",{className:"window-nav-bar"},l.a.createElement("ul",null,l.a.createElement("li",null,"file"),l.a.createElement("li",null,"disk"),l.a.createElement("li",null,"tree"),l.a.createElement("li",null,"view"),l.a.createElement("li",null,"options"))),l.a.createElement("div",{className:"content-window"},l.a.createElement("div",{className:"folder-wrapper"},l.a.createElement("img",{src:g.a}),l.a.createElement("p",{className:"playlist-name"},"my playlists")),l.a.createElement("div",{className:"folder-indent"},r.playlists.map((function(e,a){return l.a.createElement("div",{className:"folder-wrapper",key:a},l.a.createElement("div",{className:"folder-line"}),l.a.createElement("div",{className:"folder-placeholder "+(a===w?"selected":"")},l.a.createElement("img",{src:v.a}),l.a.createElement("p",{key:a,onClick:function(){return b(a)},className:"playlist-name"},e.name)))})))),l.a.createElement("div",{className:"bottom-bar"},l.a.createElement("p",null,"Total ",r.playlists.length," file(s)")))),l.a.createElement("div",{className:"popup-wrapper"},w>=0?l.a.createElement("div",{className:"main-window",id:"featured"},l.a.createElement("div",{className:"window-title-bar"},l.a.createElement("p",null,"Note Pad"),l.a.createElement("p",{className:"close",onClick:function(){return b(-1)}},"X")),l.a.createElement("div",{className:"inner-window"},l.a.createElement("div",{className:"window-nav-bar"},l.a.createElement("ul",null,l.a.createElement("li",null,"file"),l.a.createElement("li",null,"edit"),l.a.createElement("li",null,"format"),l.a.createElement("li",null,"view"),l.a.createElement("li",null,"help"))),l.a.createElement("div",{className:"content-window"},l.a.createElement(p,{pl:r.playlists[w],allGenres:r.genres,setGenres:function(e){var a=u(e);c({playlists:r.playlists,genres:a})},setFeatured:b})))):l.a.createElement("div",null)))},N=(t(16),t(8)),h=t.n(N);var y=function(){var e=Object(n.useState)({loggedIn:!1,token:"",id:""}),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),u=o[0],d=o[1],E=new m.a;return Object(n.useEffect)((function(){var e=function(){var e,a={},t=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(e=t.exec(n);e;)a[e[1]]=decodeURIComponent(e[2]),e=t.exec(n);return a}(),a=e.access_token;a&&E.setAccessToken(a),r({loggedIn:!!a,token:a,id:e.id})}),[r]),l.a.createElement("div",{className:"App"},t.loggedIn?l.a.createElement("div",{className:"wrapper"},l.a.createElement(b,{token:t.token,id:t.id,logOut:function(){r(Object(i.a)(Object(i.a)({},t),{},{loggedIn:!1}))}})):l.a.createElement("div",{className:"wrapper"},u?l.a.createElement("div",{className:"main-window",id:"credits"},l.a.createElement("div",{className:"window-title-bar"},l.a.createElement("p",null,"Note Pad"),l.a.createElement("p",{className:"close",onClick:function(){return d(!1)}},"X")),l.a.createElement("div",{className:"inner-window"},l.a.createElement("div",{className:"window-nav-bar"},l.a.createElement("ul",null,l.a.createElement("li",null,"file"),l.a.createElement("li",null,"edit"),l.a.createElement("li",null,"format"),l.a.createElement("li",null,"view"),l.a.createElement("li",null,"help"))),l.a.createElement("div",{className:"content-window"},l.a.createElement("h3",{style:{cursor:"pointer"},onClick:function(){return d(!1)}},"<< Go back"),l.a.createElement("p",null,l.a.createElement("a",{href:"https://clawang.github.io/"},"Made by Claire Wang")),l.a.createElement("p",null,l.a.createElement("a",{href:"https://open.spotify.com/user/1241364699?si=5278203f6e2942e6"},"Follow me on Spotify!"))))):l.a.createElement("div",{className:"main-window",id:"login"},l.a.createElement("div",{className:"window-title-bar"},l.a.createElement("p",null,"Internet Explorer"),l.a.createElement("p",{className:"close"},"X")),l.a.createElement("div",{className:"inner-window"},l.a.createElement("div",{className:"window-nav-bar"},l.a.createElement("ul",null,l.a.createElement("li",null,"file"),l.a.createElement("li",null,"edit"),l.a.createElement("li",null,"view"),l.a.createElement("li",null,"favorites"),l.a.createElement("li",null,"help"))),l.a.createElement("div",{className:"address-bar"},l.a.createElement("p",null,"Address:"),l.a.createElement("div",{className:"url"},"https://genre-analyzer.herokuapp.com/"),l.a.createElement("p",null,"Links")),l.a.createElement("div",{className:"content-window"},l.a.createElement("img",{src:h.a}),l.a.createElement("h1",null,"Playlist Genre Analyzer"),l.a.createElement("div",{className:"start-descrip"},l.a.createElement("div",{className:"button-wrapper"},l.a.createElement("div",{className:"button"},l.a.createElement("a",{href:"http://localhost:8888/login"}," Connect Spotify ")))))),l.a.createElement("div",{className:"bottom-bar"},l.a.createElement("p",{id:"credits-link",onClick:function(){return d(!0)}},"Credits")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.716bcc97.chunk.js.map